(()=>{const e=t=>{if(!t.toElement&&!t.relatedTarget&&t.clientY<10){document.removeEventListener("mouseout",e),document.querySelector("html").classList.add("has-modal-open");const t=document.querySelector('.wp-block-hm-popup[data-trigger="exit"]');t.showModal(),t.focus(),window.localStorage.setItem("exitIntentShown",Date.now())}},t=()=>{let t=!1;document.querySelectorAll(".wp-block-hm-popup").forEach(o=>{if(o.addEventListener("close",()=>{document.querySelector("html").classList.remove("has-modal-open")}),o.addEventListener("mousedown",e=>{e.target===e.currentTarget&&e.currentTarget.close()}),"click"===o?.dataset.trigger&&document.querySelectorAll(`[href="#${o.id||""}"]`).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),document.querySelector("html").classList.add("has-modal-open"),o.showModal(),o.focus()})}),"exit"===o?.dataset.trigger){const n=parseInt(o?.dataset.expiry||7,10);parseInt(window.localStorage.getItem("exitIntentShown")||0,10)<Date.now()-24*n*60*60*1e3&&!t&&(t=!0,setTimeout(()=>{document.addEventListener("mouseout",e)},2e3))}}),document.querySelectorAll([".wp-block-hm-popup__close",'.wp-block-hm-popup [href="#close"]'].join(",")).forEach(e=>{e.addEventListener("click",e=>{e.preventDefault(),e.currentTarget.closest(".wp-block-hm-popup").close()})})};"loading"!==document.readyState?t():(document.addEventListener("DOMContentLoaded",t),document.addEventListener("DOMContentLoaded",t))})();